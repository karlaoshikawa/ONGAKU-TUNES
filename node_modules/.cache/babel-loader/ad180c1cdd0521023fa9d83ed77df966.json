{"ast":null,"code":"var _jsxFileName = \"/Users/karlaoshikawa/Portifolio/ongakuTunes/src/pages/ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport meninoColorido from '../images/meninoColorido.webp';\nimport './ProfileEdit.css';\nimport Footer from '../components/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.newData = async () => {\n      const {\n        history\n      } = this.props;\n      const {\n        name,\n        email,\n        image,\n        description\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      await updateUser({\n        name,\n        email,\n        image,\n        description\n      });\n      this.setState({\n        loading: false\n      });\n      history.push('/profile');\n    };\n\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: ''\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    const {\n      name,\n      email,\n      image,\n      description\n    } = user;\n    this.setState({\n      name,\n      email,\n      image,\n      description,\n      loading: false\n    });\n  }\n\n  formValid() {\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    const isValid = email.match(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const empty = name.length > 0 && email.length > 0 && image.length > 0 && description.length > 0;\n    return !(isValid && empty);\n  }\n\n  render() {\n    const {\n      loading,\n      name,\n      email,\n      description,\n      image\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-edit-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-box profile-edit\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-testid\": \"page-profile-edit\",\n              children: \"ProfileEdit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              \"data-testid\": \"edit-input-name\",\n              name: \"name\",\n              className: \"input-profile-edit\",\n              value: name,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"e-mail:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              \"data-testid\": \"edit-input-email\",\n              className: \"input-profile-edit\",\n              value: email,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Descricao:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"description\",\n              \"data-testid\": \"edit-input-description\",\n              className: \"input-profile-edit\",\n              value: description,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Imagem:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"image\",\n              \"data-testid\": \"edit-input-image\",\n              className: \"input-profile-edit\",\n              value: image,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: this.formValid(),\n                type: \"button\",\n                className: \"button-profile\",\n                \"data-testid\": \"edit-button-save\",\n                onClick: this.newData,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"edit-img\",\n            src: meninoColorido,\n            alt: \"imagem colorido de menino ouvindo musica\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)\n    }, void 0, false);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","Loading","getUser","updateUser","meninoColorido","Footer","ProfileEdit","Component","constructor","handleChange","event","name","value","target","setState","newData","history","props","email","image","description","state","loading","push","componentDidMount","user","formValid","isValid","match","empty","length","render","propTypes","shape","func","isRequired"],"sources":["/Users/karlaoshikawa/Portifolio/ongakuTunes/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport meninoColorido from '../images/meninoColorido.webp';\nimport './ProfileEdit.css';\nimport Footer from '../components/Footer';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: '',\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    const { name, email, image, description } = user;\n    this.setState({ name, email, image, description, loading: false });\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  newData = async () => {\n    const { history } = this.props;\n    const { name, email, image, description } = this.state;\n    this.setState({ loading: true });\n    await updateUser({ name, email, image, description });\n    this.setState({ loading: false });\n    history.push('/profile');\n  };\n\n  formValid() {\n    const { name, email, image, description } = this.state;\n    const isValid = email.match(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const empty = name.length > 0\n    && email.length > 0\n    && image.length > 0\n    && description.length > 0;\n    return !(isValid && empty);\n  }\n\n  render() {\n    const { loading, name, email, description, image } = this.state;\n    return (\n      <>\n        { loading ? <Loading /> : (\n          <>\n            <div className='profile-edit-container'>\n            <div className='profile-box profile-edit'>\n            <div data-testid=\"page-profile-edit\">ProfileEdit</div>\n              <p>Nome:</p>\n              <input\n                type=\"text\"\n                data-testid=\"edit-input-name\"\n                  name=\"name\"\n                  className='input-profile-edit'\n                value={ name }\n                onChange={ this.handleChange }\n              />\n              <p>e-mail:</p>\n              <input\n                type=\"text\"\n                name=\"email\"\n                  data-testid=\"edit-input-email\"\n                  className='input-profile-edit'\n                value={ email }\n                onChange={ this.handleChange }\n              />\n              <p>Descricao:</p>\n              <input\n                type=\"text\"\n                name=\"description\"\n                  data-testid=\"edit-input-description\"\n                  className='input-profile-edit'\n                value={ description }\n                onChange={ this.handleChange }\n              />\n              <p>Imagem:</p>\n              <input\n                type=\"text\"\n                name=\"image\"\n                  data-testid=\"edit-input-image\"\n                  className='input-profile-edit'\n                value={ image }\n                onChange={ this.handleChange }\n                />\n                <div>\n              <button\n                disabled={ this.formValid() }\n                  type=\"button\"\n                  className='button-profile'\n                data-testid=\"edit-button-save\"\n                onClick={ this.newData }\n              >\n                Save\n                  </button>\n                  </div>\n              </div>\n              <img className='edit-img' src={meninoColorido} alt=\"imagem colorido de menino ouvindo musica\" />\n            </div>\n          </>\n\n        )}\n      </>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}