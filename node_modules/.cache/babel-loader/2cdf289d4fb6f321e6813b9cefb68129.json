{"ast":null,"code":"var _jsxFileName = \"/Users/karlaoshikawa/Portifolio/ongakuTunes/src/pages/ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport meninoColorido from '../images/meninoColorido.webp';\nimport './ProfileEdit.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.newData = async () => {\n      const {\n        history\n      } = this.props;\n      const {\n        name,\n        email,\n        image,\n        description\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      await updateUser({\n        name,\n        email,\n        image,\n        description\n      });\n      this.setState({\n        loading: false\n      });\n      history.push('/profile');\n    };\n\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: ''\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    console.log(user);\n    const {\n      name,\n      email,\n      image,\n      description\n    } = user;\n    this.setState({\n      name,\n      email,\n      image,\n      description,\n      loading: false\n    });\n  }\n\n  formValid() {\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    const isValid = email.match(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const empty = name.length > 0 && email.length > 0 && image.length > 0 && description.length > 0;\n    return !(isValid && empty);\n  }\n\n  render() {\n    const {\n      loading,\n      name,\n      email,\n      description,\n      image\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-testid\": \"page-profile-edit\",\n              children: \"ProfileEdit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              \"data-testid\": \"edit-input-name\",\n              name: \"name\",\n              value: name,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"e-mail:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              \"data-testid\": \"edit-input-email\",\n              value: email,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Descricao:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"description\",\n              \"data-testid\": \"edit-input-description\",\n              value: description,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Imagem:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"image\",\n              \"data-testid\": \"edit-input-image\",\n              value: image,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: this.formValid(),\n              type: \"button\",\n              \"data-testid\": \"edit-button-save\",\n              onClick: this.newData,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: meninoColorido,\n            alt: \"imagem colorido de menino ouvindo musica\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)]\n    }, void 0, true);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","Loading","getUser","updateUser","meninoColorido","ProfileEdit","Component","constructor","handleChange","event","name","value","target","setState","newData","history","props","email","image","description","state","loading","push","componentDidMount","user","console","log","formValid","isValid","match","empty","length","render","propTypes","shape","func","isRequired"],"sources":["/Users/karlaoshikawa/Portifolio/ongakuTunes/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport meninoColorido from '../images/meninoColorido.webp';\nimport './ProfileEdit.css';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: '',\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    console.log(user);\n    const { name, email, image, description } = user;\n    this.setState({ name, email, image, description, loading: false });\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  newData = async () => {\n    const { history } = this.props;\n    const { name, email, image, description } = this.state;\n    this.setState({ loading: true });\n    await updateUser({ name, email, image, description });\n    this.setState({ loading: false });\n    history.push('/profile');\n  };\n\n  formValid() {\n    const { name, email, image, description } = this.state;\n    const isValid = email.match(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const empty = name.length > 0\n    && email.length > 0\n    && image.length > 0\n    && description.length > 0;\n    return !(isValid && empty);\n  }\n\n  render() {\n    const { loading, name, email, description, image } = this.state;\n    return (\n      <>\n        <Header />\n        { loading ? <Loading /> : (\n          <>\n            <div>\n            <form>\n            <div data-testid=\"page-profile-edit\">ProfileEdit</div>\n              <p>Nome:</p>\n              <input\n                type=\"text\"\n                data-testid=\"edit-input-name\"\n                name=\"name\"\n                value={ name }\n                onChange={ this.handleChange }\n              />\n              <p>e-mail:</p>\n              <input\n                type=\"text\"\n                name=\"email\"\n                data-testid=\"edit-input-email\"\n                value={ email }\n                onChange={ this.handleChange }\n              />\n              <p>Descricao:</p>\n              <input\n                type=\"text\"\n                name=\"description\"\n                data-testid=\"edit-input-description\"\n                value={ description }\n                onChange={ this.handleChange }\n              />\n              <p>Imagem:</p>\n              <input\n                type=\"text\"\n                name=\"image\"\n                data-testid=\"edit-input-image\"\n                value={ image }\n                onChange={ this.handleChange }\n              />\n              <button\n                disabled={ this.formValid() }\n                type=\"button\"\n                data-testid=\"edit-button-save\"\n                onClick={ this.newData }\n              >\n                Save\n              </button>\n              </form>\n              <img src={meninoColorido} alt=\"imagem colorido de menino ouvindo musica\" />\n              </div>\n          </>\n\n        )}\n      </>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}