{"ast":null,"code":"var _jsxFileName = \"/Users/karlaoshikawa/TRYBE/projetos/sd-025-a-project-trybetunes/src/pages/Favorites.js\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Favorites extends React.Component {\n  constructor() {\n    super();\n\n    this.favoriteLis = async music => {\n      this.setState({\n        loading: true\n      });\n      await removeSong(music);\n      const data = await getFavoriteSongs();\n      this.setState({\n        favorites: data\n      }, () => this.setState({\n        loading: false\n      }));\n    };\n\n    this.state = {\n      loading: true,\n      favorites: []\n    };\n  }\n\n  async componentDidMount() {\n    const data = await getFavoriteSongs();\n    this.setState({\n      loading: false,\n      favorites: data\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      favorites\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-testid\": \"page-favorites\",\n          children: \"Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), favorites.map(favoritos => /*#__PURE__*/_createElement(MusicCard, { ...favoritos,\n          key: favoritos.trackId,\n          checked: true,\n          checkFavorite: this.checkFavorite,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 44\n          }\n        }))]\n      }, void 0, true)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Favorites;","map":{"version":3,"names":["React","Header","Loading","MusicCard","getFavoriteSongs","removeSong","Favorites","Component","constructor","favoriteLis","music","setState","loading","data","favorites","state","componentDidMount","render","map","favoritos","trackId","checkFavorite"],"sources":["/Users/karlaoshikawa/TRYBE/projetos/sd-025-a-project-trybetunes/src/pages/Favorites.js"],"sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\n\nclass Favorites extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      favorites: [],\n    };\n  }\n\n  async componentDidMount() {\n    const data = await getFavoriteSongs();\n    this.setState({ loading: false, favorites: data });\n  }\n\n  favoriteLis = async (music) => {\n    this.setState({ loading: true });\n    await removeSong(music);\n    const data = await getFavoriteSongs();\n    this.setState({ favorites: data }, () => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { loading, favorites } = this.state;\n\n    return (\n      <>\n        {loading && <Loading />}\n        {!loading && (\n          <>\n            <Header />\n            <div data-testid=\"page-favorites\">Favorites</div>\n            {favorites.map((favoritos) => (<MusicCard\n              { ...favoritos }\n              key={ favoritos.trackId }\n              checked\n              checkFavorite={ this.checkFavorite }\n            />))}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Favorites;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,8BAA7C;;;;;AAEA,MAAMC,SAAN,SAAwBN,KAAK,CAACO,SAA9B,CAAwC;EACtCC,WAAW,GAAG;IACZ;;IADY,KAadC,WAbc,GAaA,MAAOC,KAAP,IAAiB;MAC7B,KAAKC,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd;MACA,MAAMP,UAAU,CAACK,KAAD,CAAhB;MACA,MAAMG,IAAI,GAAG,MAAMT,gBAAgB,EAAnC;MACA,KAAKO,QAAL,CAAc;QAAEG,SAAS,EAAED;MAAb,CAAd,EAAmC,MAAM,KAAKF,QAAL,CAAc;QAAEC,OAAO,EAAE;MAAX,CAAd,CAAzC;IACD,CAlBa;;IAEZ,KAAKG,KAAL,GAAa;MACXH,OAAO,EAAE,IADE;MAEXE,SAAS,EAAE;IAFA,CAAb;EAID;;EAEsB,MAAjBE,iBAAiB,GAAG;IACxB,MAAMH,IAAI,GAAG,MAAMT,gBAAgB,EAAnC;IACA,KAAKO,QAAL,CAAc;MAAEC,OAAO,EAAE,KAAX;MAAkBE,SAAS,EAAED;IAA7B,CAAd;EACD;;EASDI,MAAM,GAAG;IACP,MAAM;MAAEL,OAAF;MAAWE;IAAX,IAAyB,KAAKC,KAApC;IAEA,oBACE;MAAA,WACGH,OAAO,iBAAI,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QADd,EAEG,CAACA,OAAD,iBACC;QAAA,wBACE,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAK,eAAY,gBAAjB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,EAGGE,SAAS,CAACI,GAAV,CAAeC,SAAD,iBAAgB,eAAC,SAAD,OACxBA,SADwB;UAE7B,GAAG,EAAGA,SAAS,CAACC,OAFa;UAG7B,OAAO,MAHsB;UAI7B,aAAa,EAAG,KAAKC,aAJQ;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAA9B,CAHH;MAAA,gBAHJ;IAAA,gBADF;EAiBD;;AAzCqC;;AA4CxC,eAAef,SAAf"},"metadata":{},"sourceType":"module"}