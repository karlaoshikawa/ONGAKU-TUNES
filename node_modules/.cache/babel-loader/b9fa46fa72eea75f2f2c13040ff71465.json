{"ast":null,"code":"var _jsxFileName = \"/Users/karlaoshikawa/TRYBE/projetos/sd-025-a-project-trybetunes/src/pages/ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.newData = async () => {\n      const {\n        history\n      } = this.props;\n      const {\n        name,\n        email,\n        image,\n        description\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      await updateUser({\n        name,\n        email,\n        image,\n        description\n      });\n      this.setState({\n        loading: false\n      });\n      history.push('/profile');\n    };\n\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: ''\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    console.log(user);\n    const {\n      name,\n      email,\n      image,\n      description\n    } = user;\n    this.setState({\n      name,\n      email,\n      image,\n      description,\n      loading: false\n    });\n  }\n\n  validate() {\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    const isValid = email.match(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const lengths = name.length > 0 && email.length > 0 && image.length > 0 && description.length > 0;\n    return !(isValid && lengths);\n  }\n\n  render() {\n    const {\n      loading,\n      name,\n      email,\n      description,\n      image\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-testid\": \"page-profile-edit\",\n          children: \"ProfileEdit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"edit-input-name\",\n            name: \"name\",\n            value: name,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            \"data-testid\": \"edit-input-email\",\n            value: email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"description\",\n            \"data-testid\": \"edit-input-description\",\n            value: description,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"image\",\n            \"data-testid\": \"edit-input-image\",\n            value: image,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: this.validate(),\n            \"data-testid\": \"edit-button-save\",\n            type: \"button\",\n            onClick: this.newData,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","Loading","getUser","updateUser","ProfileEdit","Component","constructor","handleChange","event","name","value","target","setState","newData","history","props","email","image","description","state","loading","push","componentDidMount","user","console","log","validate","isValid","match","lengths","length","render","propTypes","shape","func","isRequired"],"sources":["/Users/karlaoshikawa/TRYBE/projetos/sd-025-a-project-trybetunes/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      name: '',\n      email: '',\n      image: '',\n      description: '',\n    };\n  }\n\n  async componentDidMount() {\n    const user = await getUser();\n    console.log(user);\n    const { name, email, image, description } = user;\n    this.setState({ name, email, image, description, loading: false });\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  newData = async () => {\n    const { history } = this.props;\n    const { name, email, image, description } = this.state;\n    this.setState({ loading: true });\n    await updateUser({ name, email, image, description });\n    this.setState({ loading: false });\n    history.push('/profile');\n  };\n\n  validate() {\n    const { name, email, image, description } = this.state;\n    const isValid = email.match(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\n    const lengths = name.length > 0\n    && email.length > 0\n    && image.length > 0\n    && description.length > 0;\n    return !(isValid && lengths);\n  }\n\n  render() {\n    const { loading, name, email, description, image } = this.state;\n    return (\n      <>\n        <Header />\n        { loading ? <Loading /> : (\n          <>\n            <div data-testid=\"page-profile-edit\">ProfileEdit</div>\n            <form>\n              <input\n                type=\"text\"\n                data-testid=\"edit-input-name\"\n                name=\"name\"\n                value={ name }\n                onChange={ this.handleChange }\n              />\n              <input\n                type=\"text\"\n                name=\"email\"\n                data-testid=\"edit-input-email\"\n                value={ email }\n                onChange={ this.handleChange }\n              />\n              <input\n                type=\"text\"\n                name=\"description\"\n                data-testid=\"edit-input-description\"\n                value={ description }\n                onChange={ this.handleChange }\n              />\n              <input\n                type=\"text\"\n                name=\"image\"\n                data-testid=\"edit-input-image\"\n                value={ image }\n                onChange={ this.handleChange }\n              />\n              <button\n                disabled={ this.validate() }\n                data-testid=\"edit-button-save\"\n                type=\"button\"\n                onClick={ this.newData }\n              >\n                Save\n              </button>\n            </form>\n          </>\n\n        )}\n      </>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}